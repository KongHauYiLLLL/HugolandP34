const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/utility-components-BIeaoS2F.js","assets/game-components-DQK1Do8A.js","assets/ui-vendor-Bvr7I7Td.js","assets/react-vendor-DEQ385Nk.js","assets/EnhancedGameModes-rySAngDZ.js","assets/PokyegMarket-C5oSUkMF.js","assets/Tutorial-B8mxjKwo.js","assets/CheatPanel-BBCghGba.js","assets/DailyRewards-BCH5Kfxc.js","assets/OfflineProgress-B9uYKQNO.js","assets/BulkActions-Bhd5q_Dn.js","assets/menu-components-BxZW46Ag.js","assets/AdventureSkillSelection-DaWVyMWl.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,l=(e,t)=>{for(var s in t||(t={}))n.call(t,s)&&o(e,s,t[s]);if(a)for(var s of a(t))i.call(t,s)&&o(e,s,t[s]);return e},c=(e,r)=>t(e,s(r)),d=(e,t,s)=>new Promise((r,a)=>{var n=e=>{try{o(s.next(e))}catch(t){a(t)}},i=e=>{try{o(s.throw(e))}catch(t){a(t)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,i);o((s=s.apply(e,t)).next())});import{b as m,c as h,d as u,e as g,f as p,h as x,i as b,j as f,k as y,C as v,I as w,S as k}from"./game-components-DQK1Do8A.js";import{r as j,h as _,H as N,a as S,b as M,u as C,d as A,G as E,e as P,B as G,X as R,P as L,y as O,z,F as T,m as D,I as W,j as I,J as B,K as U,R as H}from"./ui-vendor-Bvr7I7Td.js";import{a as q}from"./react-vendor-DEQ385Nk.js";import{_ as F}from"./supabase-vendor-Bj79fh9f.js";var V,Z,Y=(V={"assets/index-CykxjlIx.js"(e){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t,s={},r=function(){if(t)return s;t=1;var e=q();return s.createRoot=e.createRoot,s.hydrateRoot=e.hydrateRoot,s}();const a=[{id:"first_victory",name:"First Victory",description:"Win your first battle",icon:"ðŸ†",maxProgress:1,reward:{coins:50,gems:5}},{id:"zone_master_10",name:"Zone Explorer",description:"Reach Zone 10",icon:"ðŸ—ºï¸",maxProgress:10,reward:{coins:200,gems:10}},{id:"zone_master_25",name:"Zone Conqueror",description:"Reach Zone 25",icon:"âš”ï¸",maxProgress:25,reward:{coins:500,gems:25}},{id:"zone_master_50",name:"Zone Legend",description:"Reach Zone 50 and unlock Premium",icon:"ðŸ‘‘",maxProgress:50,reward:{coins:1e3,gems:50,special:"Premium Access"}},{id:"zone_master_100",name:"Zone Master",description:"Reach Zone 100",icon:"ðŸ”ï¸",maxProgress:100,reward:{coins:2e3,gems:100}},{id:"zone_master_250",name:"Zone Overlord",description:"Reach Zone 250",icon:"ðŸŒ‹",maxProgress:250,reward:{coins:5e3,gems:250}},{id:"zone_master_500",name:"Zone God",description:"Reach Zone 500",icon:"ðŸŒŒ",maxProgress:500,reward:{coins:1e4,gems:500}},{id:"collector_25",name:"Item Collector",description:"Collect 25 different items",icon:"ðŸ“¦",maxProgress:25,reward:{coins:300,gems:15}},{id:"collector_50",name:"Master Collector",description:"Collect 50 different items",icon:"ðŸŽ’",maxProgress:50,reward:{coins:750,gems:35}},{id:"collector_100",name:"Legendary Collector",description:"Collect 100 different items",icon:"ðŸ›ï¸",maxProgress:100,reward:{coins:1500,gems:75}},{id:"scholar_tier_5",name:"Scholar",description:"Reach Research Level 5",icon:"ðŸ§ ",maxProgress:5,reward:{coins:400,gems:20}},{id:"scholar_tier_10",name:"Master Scholar",description:"Reach Research Level 10",icon:"ðŸ“š",maxProgress:10,reward:{coins:800,gems:40}},{id:"scholar_tier_25",name:"Grand Scholar",description:"Reach Research Level 25",icon:"ðŸŽ“",maxProgress:25,reward:{coins:2e3,gems:100}},{id:"scholar_tier_50",name:"Sage",description:"Reach Research Level 50",icon:"ðŸ”®",maxProgress:50,reward:{coins:5e3,gems:250}},{id:"streak_master_10",name:"Knowledge Streak",description:"Get 10 correct answers in a row",icon:"ðŸ”¥",maxProgress:10,reward:{coins:250,gems:12}},{id:"streak_master_25",name:"Genius Streak",description:"Get 25 correct answers in a row",icon:"âš¡",maxProgress:25,reward:{coins:600,gems:30}},{id:"streak_master_50",name:"Mastermind Streak",description:"Get 50 correct answers in a row",icon:"ðŸŒŸ",maxProgress:50,reward:{coins:1500,gems:75}},{id:"streak_master_100",name:"Legendary Streak",description:"Get 100 correct answers in a row",icon:"ðŸ’«",maxProgress:100,reward:{coins:3e3,gems:150}},{id:"wealthy_1000",name:"Coin Collector",description:"Earn 1000 total coins",icon:"ðŸ’°",maxProgress:1e3,reward:{gems:20}},{id:"wealthy_10000",name:"Rich Adventurer",description:"Earn 10,000 total coins",icon:"ðŸ’Ž",maxProgress:1e4,reward:{gems:50}},{id:"wealthy_100000",name:"Wealthy Merchant",description:"Earn 100,000 total coins",icon:"ðŸ¦",maxProgress:1e5,reward:{gems:200}},{id:"wealthy_1000000",name:"Millionaire",description:"Earn 1,000,000 total coins",icon:"ðŸ’¸",maxProgress:1e6,reward:{gems:1e3}},{id:"gem_collector_100",name:"Gem Collector",description:"Earn 100 total gems",icon:"ðŸ’Ž",maxProgress:100,reward:{coins:500}},{id:"gem_collector_1000",name:"Gem Master",description:"Earn 1000 total gems",icon:"ðŸ’",maxProgress:1e3,reward:{coins:2e3}},{id:"gem_collector_10000",name:"Gem Lord",description:"Earn 10,000 total gems",icon:"ðŸ‘‘",maxProgress:1e4,reward:{coins:1e4}},{id:"chest_opener_10",name:"Treasure Hunter",description:"Open 10 chests",icon:"ðŸ—ï¸",maxProgress:10,reward:{coins:200,gems:10}},{id:"chest_opener_50",name:"Chest Master",description:"Open 50 chests",icon:"ðŸ“¦",maxProgress:50,reward:{coins:1e3,gems:50}},{id:"chest_opener_100",name:"Vault Breaker",description:"Open 100 chests",icon:"ðŸ›ï¸",maxProgress:100,reward:{coins:2500,gems:125}},{id:"accuracy_master_90",name:"Perfect Scholar",description:"Maintain 90% accuracy over 50 questions",icon:"ðŸŽ¯",maxProgress:50,reward:{coins:500,gems:25}},{id:"accuracy_master_95",name:"Precision Master",description:"Maintain 95% accuracy over 100 questions",icon:"ðŸ¹",maxProgress:100,reward:{coins:1500,gems:75}},{id:"legendary_finder",name:"Legendary Hunter",description:"Find your first Legendary item",icon:"âœ¨",maxProgress:1,reward:{coins:300,gems:15}},{id:"mythical_finder",name:"Mythical Seeker",description:"Find your first Mythical item",icon:"ðŸŒŸ",maxProgress:1,reward:{coins:500,gems:25}},{id:"legendary_collector_10",name:"Legendary Collector",description:"Find 10 Legendary items",icon:"â­",maxProgress:10,reward:{coins:2e3,gems:100}},{id:"mythical_collector_5",name:"Mythical Collector",description:"Find 5 Mythical items",icon:"ðŸŒ ",maxProgress:5,reward:{coins:3e3,gems:150}},{id:"warrior_100",name:"Warrior",description:"Win 100 battles",icon:"âš”ï¸",maxProgress:100,reward:{coins:1e3,gems:50}},{id:"warrior_500",name:"Battle Master",description:"Win 500 battles",icon:"ðŸ›¡ï¸",maxProgress:500,reward:{coins:3e3,gems:150}},{id:"warrior_1000",name:"War Hero",description:"Win 1000 battles",icon:"ðŸ†",maxProgress:1e3,reward:{coins:5e3,gems:250}},{id:"miner_100",name:"Gem Miner",description:"Mine 100 gems",icon:"â›ï¸",maxProgress:100,reward:{coins:500,gems:25}},{id:"miner_1000",name:"Master Miner",description:"Mine 1000 gems",icon:"ðŸ’Ž",maxProgress:1e3,reward:{coins:2e3,gems:100}},{id:"shiny_hunter_10",name:"Shiny Hunter",description:"Find 10 shiny gems",icon:"âœ¨",maxProgress:10,reward:{coins:1e3,gems:50}},{id:"shiny_hunter_100",name:"Shiny Master",description:"Find 100 shiny gems",icon:"ðŸŒŸ",maxProgress:100,reward:{coins:5e3,gems:250}},{id:"enchanted_finder_10",name:"Enchanted Finder",description:"Find 10 enchanted items",icon:"ðŸ”®",maxProgress:10,reward:{coins:1500,gems:75}},{id:"relic_seeker_5",name:"Relic Seeker",description:"Own 5 relic items",icon:"ðŸº",maxProgress:5,reward:{coins:2e3,gems:100}},{id:"knowledge_master_1000",name:"Knowledge Master",description:"Answer 1000 questions correctly",icon:"ðŸ§ ",maxProgress:1e3,reward:{coins:3e3,gems:150}},{id:"knowledge_master_10000",name:"Knowledge God",description:"Answer 10,000 questions correctly",icon:"ðŸŽ“",maxProgress:1e4,reward:{coins:1e4,gems:500}},{id:"daily_player_7",name:"Weekly Player",description:"Play for 7 consecutive days",icon:"ðŸ“…",maxProgress:7,reward:{coins:1e3,gems:50}},{id:"daily_player_30",name:"Monthly Player",description:"Play for 30 consecutive days",icon:"ðŸ—“ï¸",maxProgress:30,reward:{coins:5e3,gems:250}},{id:"gardener_first",name:"First Gardener",description:"Plant your first seed",icon:"ðŸŒ±",maxProgress:1,reward:{coins:500,gems:25}},{id:"gardener_master",name:"Master Gardener",description:"Grow your plant to 50cm",icon:"ðŸŒ³",maxProgress:50,reward:{coins:2e3,gems:100}},{id:"gardener_legend",name:"Legendary Gardener",description:"Grow your plant to maximum size",icon:"ðŸŒ²",maxProgress:100,reward:{coins:5e3,gems:250}}],n=[{id:"zone_explorer",name:"Zone Explorer",description:"Reach Zone 25",icon:"ðŸ—ºï¸",color:"text-green-400"},{id:"zone_master",name:"Zone Master",description:"Reach Zone 100",icon:"ðŸ”ï¸",color:"text-blue-400"},{id:"zone_legend",name:"Zone Legend",description:"Reach Zone 250",icon:"ðŸŒ‹",color:"text-red-400"},{id:"zone_god",name:"Zone God",description:"Reach Zone 500",icon:"ðŸŒŒ",color:"text-purple-400"},{id:"coin_collector",name:"Coin Collector",description:"Earn 10,000 total coins",icon:"ðŸ’°",color:"text-yellow-400"},{id:"gem_collector",name:"Gem Collector",description:"Earn 1,000 total gems",icon:"ðŸ’Ž",color:"text-purple-400"},{id:"millionaire",name:"Millionaire",description:"Earn 1,000,000 total coins",icon:"ðŸ’¸",color:"text-green-400"},{id:"knowledge_master",name:"Knowledge Master",description:"Answer 1,000 questions correctly",icon:"ðŸ§ ",color:"text-blue-400"},{id:"knowledge_god",name:"Knowledge God",description:"Answer 10,000 questions correctly",icon:"ðŸŽ“",color:"text-indigo-400"},{id:"streak_master",name:"Streak Master",description:"Get 50 correct answers in a row",icon:"ðŸ”¥",color:"text-orange-400"},{id:"streak_legend",name:"Streak Legend",description:"Get 100 correct answers in a row",icon:"ðŸ’«",color:"text-yellow-400"},{id:"warrior",name:"Warrior",description:"Win 500 battles",icon:"âš”ï¸",color:"text-red-400"},{id:"war_hero",name:"War Hero",description:"Win 1,000 battles",icon:"ðŸ†",color:"text-gold-400"},{id:"collector",name:"Collector",description:"Collect 50 different items",icon:"ðŸ“¦",color:"text-cyan-400"},{id:"legendary_collector",name:"Legendary Collector",description:"Find 10 Legendary items",icon:"â­",color:"text-yellow-400"},{id:"mythical_seeker",name:"Mythical Seeker",description:"Find 5 Mythical items",icon:"ðŸŒ ",color:"text-pink-400"},{id:"miner",name:"Miner",description:"Mine 1,000 gems",icon:"â›ï¸",color:"text-gray-400"},{id:"shiny_hunter",name:"Shiny Hunter",description:"Find 100 shiny gems",icon:"âœ¨",color:"text-yellow-400"},{id:"enchanted_finder",name:"Enchanted Finder",description:"Find 10 enchanted items",icon:"ðŸ”®",color:"text-cyan-400"},{id:"relic_seeker",name:"Relic Seeker",description:"Own 5 relic items",icon:"ðŸº",color:"text-orange-400"},{id:"scholar",name:"Scholar",description:"Reach Research Level 25",icon:"ðŸ“š",color:"text-blue-400"},{id:"sage",name:"Sage",description:"Reach Research Level 50",icon:"ðŸ”®",color:"text-purple-400"},{id:"gardener",name:"Gardener",description:"Plant your first seed",icon:"ðŸŒ±",color:"text-green-400"},{id:"master_gardener",name:"Master Gardener",description:"Grow your plant to 50cm",icon:"ðŸŒ³",color:"text-green-500"},{id:"legendary_gardener",name:"Legendary Gardener",description:"Grow your plant to maximum size",icon:"ðŸŒ²",color:"text-emerald-400"},{id:"premium_member",name:"Premium Member",description:"Unlock Premium status",icon:"ðŸ‘‘",color:"text-yellow-400"},{id:"precision_master",name:"Precision Master",description:"Maintain 95% accuracy over 100 questions",icon:"ðŸŽ¯",color:"text-red-400"},{id:"dedicated_player",name:"Dedicated Player",description:"Play for 30 consecutive days",icon:"ðŸ—“ï¸",color:"text-blue-400"}];class i{static getItem(e){return d(this,null,function*(){try{return localStorage.getItem(e)}catch(t){return null}})}static setItem(e,t){return d(this,null,function*(){try{localStorage.setItem(e,t)}catch(s){}})}static removeItem(e){return d(this,null,function*(){try{localStorage.removeItem(e)}catch(t){}})}static clear(){return d(this,null,function*(){try{localStorage.clear()}catch(e){}})}}const o="hugoland_game_state",V=()=>({coins:100,gems:0,shinyGems:0,zone:1,playerStats:{hp:100,maxHp:100,atk:20,def:10,baseAtk:20,baseDef:10,baseHp:100},inventory:{weapons:[],armor:[],relics:[],currentWeapon:null,currentArmor:null,equippedRelics:[]},currentEnemy:null,inCombat:!1,combatLog:[],research:{level:0,totalSpent:0,availableUpgrades:["atk","def","hp"]},isPremium:!1,achievements:a.map(e=>c(l({},e),{unlocked:!1,progress:0})),collectionBook:{weapons:{},armor:{},totalWeaponsFound:0,totalArmorFound:0,rarityStats:{common:0,rare:0,epic:0,legendary:0,mythical:0}},knowledgeStreak:{current:0,best:0,multiplier:1},gameMode:{current:"normal",speedModeActive:!1,survivalLives:3,maxSurvivalLives:3,timeAttackScore:0,timeAttackTimeLeft:60,bossProgress:0},statistics:{totalQuestionsAnswered:0,correctAnswers:0,totalPlayTime:0,zonesReached:1,itemsCollected:0,coinsEarned:0,gemsEarned:0,shinyGemsEarned:0,chestsOpened:0,accuracyByCategory:{},sessionStartTime:new Date,totalDeaths:0,totalVictories:0,longestStreak:0,fastestVictory:0,totalDamageDealt:0,totalDamageTaken:0,itemsUpgraded:0,itemsSold:0,totalResearchSpent:0,averageAccuracy:0,revivals:0},cheats:{infiniteCoins:!1,infiniteGems:!1,obtainAnyItem:!1},mining:{totalGemsMined:0,totalShinyGemsMined:0},yojefMarket:{items:[],lastRefresh:new Date,nextRefresh:new Date(Date.now()+3e5)},playerTags:n.map(e=>c(l({},e),{unlocked:!1})),dailyRewards:{lastClaimDate:null,currentStreak:0,maxStreak:0,availableReward:null,rewardHistory:[]},progression:{level:1,experience:0,experienceToNext:100,skillPoints:0,unlockedSkills:[],prestigeLevel:0,prestigePoints:0,masteryLevels:{}},offlineProgress:{lastSaveTime:new Date,offlineCoins:0,offlineGems:0,offlineTime:0,maxOfflineHours:24},gardenOfGrowth:{isPlanted:!1,plantedAt:null,lastWatered:null,waterHoursRemaining:0,growthCm:0,totalGrowthBonus:0,seedCost:1e3,waterCost:500,maxGrowthCm:100},settings:{colorblindMode:!1,darkMode:!0,language:"en",notifications:!0},hasUsedRevival:!1,skills:{activeMenuSkill:null,lastRollTime:null,playTimeThisSession:0,sessionStartTime:new Date},adventureSkills:{selectedSkill:null,availableSkills:[],showSelectionModal:!1,skillEffects:{skipCardUsed:!1,metalShieldUsed:!1,dodgeUsed:!1,truthLiesActive:!1,lightningChainActive:!1,rampActive:!1,berserkerActive:!1,vampiricActive:!1,phoenixUsed:!1,timeSlowActive:!1,criticalStrikeActive:!1,shieldWallActive:!1,poisonBladeActive:!1,arcaneShieldActive:!1,battleFrenzyActive:!1}}}),Z=()=>{const[e,t]=j.useState(null),[s,r]=j.useState(!0);j.useEffect(()=>{d(null,null,function*(){try{const e=yield i.getItem(o);if(e){const s=JSON.parse(e),r=c(l(l({},V()),s),{skills:l(l({},V().skills),s.skills),adventureSkills:l(l({},V().adventureSkills),s.adventureSkills)});t(r)}else t(V())}catch(e){t(V())}finally{r(!1)}})},[]),j.useEffect(()=>{if(!e)return;const t=setInterval(()=>{y(e=>{const t=new Date;if(t>=new Date(e.yojefMarket.nextRefresh)){const s=Array.from({length:3},()=>m());return c(l({},e),{yojefMarket:c(l({},e.yojefMarket),{items:s,lastRefresh:t,nextRefresh:new Date(t.getTime()+3e5)})})}return e})},3e4);return()=>clearInterval(t)},[null==e?void 0:e.yojefMarket.nextRefresh]),j.useEffect(()=>{if(!(null==e?void 0:e.gardenOfGrowth.isPlanted))return;const t=setInterval(()=>{y(e=>{if(!e.gardenOfGrowth.isPlanted||!e.gardenOfGrowth.plantedAt)return e;const t=new Date,s=new Date(e.gardenOfGrowth.plantedAt),r=(t.getTime()-s.getTime())/36e5;let a=e.gardenOfGrowth.waterHoursRemaining;if(e.gardenOfGrowth.lastWatered){const s=new Date(e.gardenOfGrowth.lastWatered),r=(t.getTime()-s.getTime())/36e5;a=Math.max(0,e.gardenOfGrowth.waterHoursRemaining-r)}let n=e.gardenOfGrowth.growthCm;a>0&&(n=Math.min(r,e.gardenOfGrowth.maxGrowthCm));const i=5*n;return c(l({},e),{gardenOfGrowth:c(l({},e.gardenOfGrowth),{growthCm:n,totalGrowthBonus:i,waterHoursRemaining:a,lastWatered:e.gardenOfGrowth.lastWatered||t})})})},6e4);return()=>clearInterval(t)},[null==e?void 0:e.gardenOfGrowth.isPlanted]);const f=j.useCallback(e=>d(null,null,function*(){try{yield i.setItem(o,JSON.stringify(e))}catch(t){}}),[]);j.useEffect(()=>{e&&!s&&f(e)},[e,s,f]);const y=j.useCallback(e=>{t(t=>{if(!t)return t;const s=e(t),r=(e=>{const t=[];return a.forEach(s=>{const r=e.achievements.find(e=>e.id===s.id);if(null==r?void 0:r.unlocked)return;let a=0,n=!1;switch(s.id){case"first_victory":a=e.zone>1?1:0,n=a>=1;break;case"zone_master_10":a=Math.min(e.zone,10),n=e.zone>=10;break;case"zone_master_25":a=Math.min(e.zone,25),n=e.zone>=25;break;case"zone_master_50":a=Math.min(e.zone,50),n=e.zone>=50;break;case"zone_master_100":a=Math.min(e.zone,100),n=e.zone>=100;break;case"zone_master_250":a=Math.min(e.zone,250),n=e.zone>=250;break;case"zone_master_500":a=Math.min(e.zone,500),n=e.zone>=500;break;case"collector_25":a=Math.min(e.collectionBook.totalWeaponsFound+e.collectionBook.totalArmorFound,25),n=a>=25;break;case"collector_50":a=Math.min(e.collectionBook.totalWeaponsFound+e.collectionBook.totalArmorFound,50),n=a>=50;break;case"collector_100":a=Math.min(e.collectionBook.totalWeaponsFound+e.collectionBook.totalArmorFound,100),n=a>=100;break;case"scholar_tier_5":a=Math.min(e.research.level,5),n=e.research.level>=5;break;case"scholar_tier_10":a=Math.min(e.research.level,10),n=e.research.level>=10;break;case"scholar_tier_25":a=Math.min(e.research.level,25),n=e.research.level>=25;break;case"scholar_tier_50":a=Math.min(e.research.level,50),n=e.research.level>=50;break;case"streak_master_10":a=Math.min(e.knowledgeStreak.best,10),n=e.knowledgeStreak.best>=10;break;case"streak_master_25":a=Math.min(e.knowledgeStreak.best,25),n=e.knowledgeStreak.best>=25;break;case"streak_master_50":a=Math.min(e.knowledgeStreak.best,50),n=e.knowledgeStreak.best>=50;break;case"streak_master_100":a=Math.min(e.knowledgeStreak.best,100),n=e.knowledgeStreak.best>=100;break;case"wealthy_1000":a=Math.min(e.statistics.coinsEarned,1e3),n=e.statistics.coinsEarned>=1e3;break;case"wealthy_10000":a=Math.min(e.statistics.coinsEarned,1e4),n=e.statistics.coinsEarned>=1e4;break;case"wealthy_100000":a=Math.min(e.statistics.coinsEarned,1e5),n=e.statistics.coinsEarned>=1e5;break;case"wealthy_1000000":a=Math.min(e.statistics.coinsEarned,1e6),n=e.statistics.coinsEarned>=1e6;break;case"gem_collector_100":a=Math.min(e.statistics.gemsEarned,100),n=e.statistics.gemsEarned>=100;break;case"gem_collector_1000":a=Math.min(e.statistics.gemsEarned,1e3),n=e.statistics.gemsEarned>=1e3;break;case"gem_collector_10000":a=Math.min(e.statistics.gemsEarned,1e4),n=e.statistics.gemsEarned>=1e4;break;case"chest_opener_10":a=Math.min(e.statistics.chestsOpened,10),n=e.statistics.chestsOpened>=10;break;case"chest_opener_50":a=Math.min(e.statistics.chestsOpened,50),n=e.statistics.chestsOpened>=50;break;case"chest_opener_100":a=Math.min(e.statistics.chestsOpened,100),n=e.statistics.chestsOpened>=100;break;case"accuracy_master_90":const t=e.statistics.totalQuestionsAnswered;if(t>=50){const s=e.statistics.correctAnswers/t;a=s>=.9?50:0,n=s>=.9}break;case"accuracy_master_95":const s=e.statistics.totalQuestionsAnswered;if(s>=100){const t=e.statistics.correctAnswers/s;a=t>=.95?100:0,n=t>=.95}break;case"legendary_finder":a=e.collectionBook.rarityStats.legendary>0?1:0,n=a>=1;break;case"mythical_finder":a=e.collectionBook.rarityStats.mythical>0?1:0,n=a>=1;break;case"legendary_collector_10":a=Math.min(e.collectionBook.rarityStats.legendary,10),n=e.collectionBook.rarityStats.legendary>=10;break;case"mythical_collector_5":a=Math.min(e.collectionBook.rarityStats.mythical,5),n=e.collectionBook.rarityStats.mythical>=5;break;case"warrior_100":a=Math.min(e.statistics.totalVictories,100),n=e.statistics.totalVictories>=100;break;case"warrior_500":a=Math.min(e.statistics.totalVictories,500),n=e.statistics.totalVictories>=500;break;case"warrior_1000":a=Math.min(e.statistics.totalVictories,1e3),n=e.statistics.totalVictories>=1e3;break;case"miner_100":a=Math.min(e.mining.totalGemsMined,100),n=e.mining.totalGemsMined>=100;break;case"miner_1000":a=Math.min(e.mining.totalGemsMined,1e3),n=e.mining.totalGemsMined>=1e3;break;case"shiny_hunter_10":a=Math.min(e.mining.totalShinyGemsMined,10),n=e.mining.totalShinyGemsMined>=10;break;case"shiny_hunter_100":a=Math.min(e.mining.totalShinyGemsMined,100),n=e.mining.totalShinyGemsMined>=100;break;case"enchanted_finder_10":const r=[...e.inventory.weapons,...e.inventory.armor].filter(e=>e.isEnchanted).length;a=Math.min(r,10),n=r>=10;break;case"relic_seeker_5":a=Math.min(e.inventory.relics.length,5),n=e.inventory.relics.length>=5;break;case"knowledge_master_1000":a=Math.min(e.statistics.correctAnswers,1e3),n=e.statistics.correctAnswers>=1e3;break;case"knowledge_master_10000":a=Math.min(e.statistics.correctAnswers,1e4),n=e.statistics.correctAnswers>=1e4;break;case"gardener_first":a=e.gardenOfGrowth.isPlanted?1:0,n=e.gardenOfGrowth.isPlanted;break;case"gardener_master":a=Math.min(e.gardenOfGrowth.growthCm,50),n=e.gardenOfGrowth.growthCm>=50;break;case"gardener_legend":a=Math.min(e.gardenOfGrowth.growthCm,100),n=e.gardenOfGrowth.growthCm>=100}n&&!(null==r?void 0:r.unlocked)?t.push(c(l({},s),{unlocked:!0,unlockedAt:new Date,progress:s.maxProgress})):r&&(r.progress=a)}),t})(s),i=(e=>{const t=[];return n.forEach(s=>{const r=e.playerTags.find(e=>e.id===s.id);if(null==r?void 0:r.unlocked)return;let a=!1;switch(s.id){case"zone_explorer":a=e.zone>=25;break;case"zone_master":a=e.zone>=100;break;case"zone_legend":a=e.zone>=250;break;case"zone_god":a=e.zone>=500;break;case"coin_collector":a=e.statistics.coinsEarned>=1e4;break;case"gem_collector":a=e.statistics.gemsEarned>=1e3;break;case"millionaire":a=e.statistics.coinsEarned>=1e6;break;case"knowledge_master":a=e.statistics.correctAnswers>=1e3;break;case"knowledge_god":a=e.statistics.correctAnswers>=1e4;break;case"streak_master":a=e.knowledgeStreak.best>=50;break;case"streak_legend":a=e.knowledgeStreak.best>=100;break;case"warrior":a=e.statistics.totalVictories>=500;break;case"war_hero":a=e.statistics.totalVictories>=1e3;break;case"collector":a=e.collectionBook.totalWeaponsFound+e.collectionBook.totalArmorFound>=50;break;case"legendary_collector":a=e.collectionBook.rarityStats.legendary>=10;break;case"mythical_seeker":a=e.collectionBook.rarityStats.mythical>=5;break;case"miner":a=e.mining.totalGemsMined>=1e3;break;case"shiny_hunter":a=e.mining.totalShinyGemsMined>=100;break;case"enchanted_finder":a=[...e.inventory.weapons,...e.inventory.armor].filter(e=>e.isEnchanted).length>=10;break;case"relic_seeker":a=e.inventory.relics.length>=5;break;case"scholar":a=e.research.level>=25;break;case"sage":a=e.research.level>=50;break;case"gardener":a=e.gardenOfGrowth.isPlanted;break;case"master_gardener":a=e.gardenOfGrowth.growthCm>=50;break;case"legendary_gardener":a=e.gardenOfGrowth.growthCm>=100;break;case"premium_member":a=e.isPremium;break;case"precision_master":const t=e.statistics.totalQuestionsAnswered;t>=100&&(a=e.statistics.correctAnswers/t>=.95)}a&&!(null==r?void 0:r.unlocked)&&t.push(c(l({},s),{unlocked:!0,unlockedAt:new Date}))}),t})(s);return r.length>0||i.length>0?c(l({},s),{achievements:s.achievements.map(e=>r.find(t=>t.id===e.id)||e),playerTags:s.playerTags.map(e=>i.find(t=>t.id===e.id)||e)}):s})},[]),v=j.useCallback(e=>{const t=h(e.research),s=e.gardenOfGrowth.totalGrowthBonus/100;let r=0,a=0;e.inventory.currentWeapon&&(r=e.inventory.currentWeapon.baseAtk+10*(e.inventory.currentWeapon.level-1)),e.inventory.currentArmor&&(a=e.inventory.currentArmor.baseDef+5*(e.inventory.currentArmor.level-1));let n=0,i=0;e.inventory.equippedRelics.forEach(e=>{"weapon"===e.type&&e.baseAtk?n+=e.baseAtk+22*(e.level-1):"armor"===e.type&&e.baseDef&&(i+=e.baseDef+15*(e.level-1))});const o=Math.floor((e.playerStats.baseAtk+r+n)*(1+t.atk/100+s)),d=Math.floor((e.playerStats.baseDef+a+i)*(1+t.def/100+s)),m=Math.floor(e.playerStats.baseHp*(1+t.hp/100+s));return c(l({},e.playerStats),{atk:o,def:d,maxHp:m,hp:Math.min(e.playerStats.hp,m)})},[]),w=j.useCallback(e=>{y(t=>c(l({},t),{inventory:c(l({},t.inventory),{currentWeapon:e})}))},[y]),k=j.useCallback(e=>{y(t=>c(l({},t),{inventory:c(l({},t.inventory),{currentArmor:e})}))},[y]),_=j.useCallback(e=>{y(t=>{var s;const r=t.inventory.weapons.find(t=>t.id===e);if(!r||t.gems<r.upgradeCost)return t;const a=t.inventory.weapons.map(t=>t.id===e?c(l({},t),{level:t.level+1,upgradeCost:Math.floor(1.5*t.upgradeCost)}):t),n=(null==(s=t.inventory.currentWeapon)?void 0:s.id)===e&&a.find(t=>t.id===e)||t.inventory.currentWeapon;return c(l({},t),{gems:t.gems-r.upgradeCost,inventory:c(l({},t.inventory),{weapons:a,currentWeapon:n}),statistics:c(l({},t.statistics),{itemsUpgraded:t.statistics.itemsUpgraded+1})})})},[y]),N=j.useCallback(e=>{y(t=>{var s;const r=t.inventory.armor.find(t=>t.id===e);if(!r||t.gems<r.upgradeCost)return t;const a=t.inventory.armor.map(t=>t.id===e?c(l({},t),{level:t.level+1,upgradeCost:Math.floor(1.5*t.upgradeCost)}):t),n=(null==(s=t.inventory.currentArmor)?void 0:s.id)===e&&a.find(t=>t.id===e)||t.inventory.currentArmor;return c(l({},t),{gems:t.gems-r.upgradeCost,inventory:c(l({},t.inventory),{armor:a,currentArmor:n}),statistics:c(l({},t.statistics),{itemsUpgraded:t.statistics.itemsUpgraded+1})})})},[y]),S=j.useCallback(e=>{y(t=>{var s;const r=t.inventory.weapons.find(t=>t.id===e);return r&&(null==(s=t.inventory.currentWeapon)?void 0:s.id)!==e?c(l({},t),{coins:t.coins+r.sellPrice,inventory:c(l({},t.inventory),{weapons:t.inventory.weapons.filter(t=>t.id!==e)}),statistics:c(l({},t.statistics),{itemsSold:t.statistics.itemsSold+1})}):t})},[y]),M=j.useCallback(e=>{y(t=>{var s;const r=t.inventory.armor.find(t=>t.id===e);return r&&(null==(s=t.inventory.currentArmor)?void 0:s.id)!==e?c(l({},t),{coins:t.coins+r.sellPrice,inventory:c(l({},t.inventory),{armor:t.inventory.armor.filter(t=>t.id!==e)}),statistics:c(l({},t.statistics),{itemsSold:t.statistics.itemsSold+1})}):t})},[y]),C=j.useCallback(e=>{y(e=>{const t=u(e.research.level);if(e.coins<t)return e;const s=c(l({},e),{coins:e.coins-t,research:c(l({},e.research),{level:e.research.level+1,totalSpent:e.research.totalSpent+t}),statistics:c(l({},e.statistics),{totalResearchSpent:e.statistics.totalResearchSpent+t})});return s.playerStats=v(s),s})},[y,v]),A=j.useCallback(e=>{let t=null;return y(s=>{if(s.coins<e)return s;const r=g(e),a=100*Math.random();let n=0,i="common";const o=["common","rare","epic","legendary","mythical"];for(let e=0;e<r.length;e++)if(n+=r[e],a<=n){i=o[e];break}const d=Math.random()<.7,m=d?p(!1,i):x(!1,i);t={type:d?"weapon":"armor",items:[m]};const h=l({},s.inventory);d?h.weapons=[...h.weapons,m]:h.armor=[...h.armor,m];const u=l({},s.collectionBook);return d?u.weapons[m.name]||(u.weapons[m.name]=!0,u.totalWeaponsFound+=1):u.armor[m.name]||(u.armor[m.name]=!0,u.totalArmorFound+=1),u.rarityStats[m.rarity]+=1,c(l({},s),{coins:s.coins-e,gems:s.gems+Math.floor(10*Math.random())+5,inventory:h,collectionBook:u,statistics:c(l({},s.statistics),{chestsOpened:s.statistics.chestsOpened+1,itemsCollected:s.statistics.itemsCollected+1})})}),t},[y]),E=j.useCallback(e=>{let t=!1;return y(s=>{if(s.coins<e)return s;t=!0;const r=Math.random()<.5,a=r?p(!1,"mythical"):x(!1,"mythical"),n=l({},s.inventory);return r?n.weapons=[...n.weapons,a]:n.armor=[...n.armor,a],c(l({},s),{coins:s.coins-e,inventory:n})}),t},[y]),P=j.useCallback(()=>{y(e=>{const t=Y();return c(l({},e),{adventureSkills:c(l({},e.adventureSkills),{availableSkills:t,showSelectionModal:!0})})})},[y]),G=j.useCallback(e=>{y(t=>{const s=b(t.zone);let r=v(t),a=l({},t.adventureSkills.skillEffects);switch(e.type){case"risker":r.hp=Math.floor(.85*r.hp),r.atk=Math.floor(1.2*r.atk);break;case"lightning_chain":a.lightningChainActive=!0;break;case"truth_lies":a.truthLiesActive=!0;break;case"ramp":const e=Math.random()<.33?"atk":Math.random()<.5?"def":"hp",t="atk"===e?Math.random()<.5?"def":"hp":"def"===e?Math.random()<.5?"atk":"hp":Math.random()<.5?"atk":"def";"atk"===e?r.atk*=2:"def"===e?r.def*=2:r.hp*=2,"atk"===t?r.atk=Math.floor(.6*r.atk):"def"===t?r.def=Math.floor(.6*r.def):r.hp=Math.floor(.6*r.hp),a.rampActive=!0;break;case"berserker":r.atk=Math.floor(1.5*r.atk),r.def=Math.floor(.7*r.def),a.berserkerActive=!0;break;case"vampiric":a.vampiricActive=!0;break;case"phoenix":a.phoenixUsed=!1;break;case"time_slow":a.timeSlowActive=!0;break;case"critical_strike":a.criticalStrikeActive=!0;break;case"shield_wall":r.def=Math.floor(1.8*r.def),a.shieldWallActive=!0;break;case"poison_blade":a.poisonBladeActive=!0;break;case"arcane_shield":a.arcaneShieldActive=!0;break;case"battle_frenzy":a.battleFrenzyActive=!0}return c(l({},t),{currentEnemy:s,inCombat:!0,playerStats:r,combatLog:[`You encounter a ${s.name}!`],adventureSkills:c(l({},t.adventureSkills),{selectedSkill:e,showSelectionModal:!1,skillEffects:c(l({},a),{skipCardUsed:!1,metalShieldUsed:!1,dodgeUsed:!1})})})})},[y,v]),R=j.useCallback(()=>{y(e=>{const t=b(e.zone);return c(l({},e),{currentEnemy:t,inCombat:!0,playerStats:v(e),combatLog:[`You encounter a ${t.name}!`],adventureSkills:c(l({},e.adventureSkills),{selectedSkill:null,showSelectionModal:!1,skillEffects:{skipCardUsed:!1,metalShieldUsed:!1,dodgeUsed:!1,truthLiesActive:!1,lightningChainActive:!1,rampActive:!1,berserkerActive:!1,vampiricActive:!1,phoenixUsed:!1,timeSlowActive:!1,criticalStrikeActive:!1,shieldWallActive:!1,poisonBladeActive:!1,arcaneShieldActive:!1,battleFrenzyActive:!1}})})})},[y,v]),L=j.useCallback(()=>{y(e=>c(l({},e),{adventureSkills:c(l({},e.adventureSkills),{skillEffects:c(l({},e.adventureSkills.skillEffects),{skipCardUsed:!0})})}))},[y]),O=j.useCallback((e,t)=>{y(s=>{var r,a,n;if(!s.currentEnemy)return s;let i=l({},s),o=0,c=0;if(e){if(o=Math.max(1,i.playerStats.atk-i.currentEnemy.def),i.adventureSkills.skillEffects.lightningChainActive&&(o=Math.floor(1.15*o)),i.adventureSkills.skillEffects.criticalStrikeActive&&Math.random()<.3&&(o*=2,i.combatLog=[...i.combatLog,"Critical Strike!"]),i.adventureSkills.skillEffects.battleFrenzyActive){const e=1+.1*i.knowledgeStreak.current;o=Math.floor(o*e)}if(i.currentEnemy.hp=Math.max(0,i.currentEnemy.hp-o),i.combatLog=[...i.combatLog,`You deal ${o} damage!`],i.adventureSkills.skillEffects.vampiricActive){const e=Math.floor(.2*o);i.playerStats.hp=Math.min(i.playerStats.maxHp,i.playerStats.hp+e),i.combatLog=[...i.combatLog,`You heal ${e} HP!`]}i.adventureSkills.skillEffects.poisonBladeActive&&Math.random()<.4&&(i.currentEnemy.isPoisoned=!0,i.currentEnemy.poisonTurns=3,i.combatLog=[...i.combatLog,"Enemy is poisoned!"]),i.knowledgeStreak.current+=1,i.knowledgeStreak.current>i.knowledgeStreak.best&&(i.knowledgeStreak.best=i.knowledgeStreak.current),i.knowledgeStreak.multiplier=1+.1*i.knowledgeStreak.current,i.statistics.correctAnswers+=1,i.statistics.totalDamageDealt+=o,t&&(i.statistics.accuracyByCategory[t]||(i.statistics.accuracyByCategory[t]={correct:0,total:0}),i.statistics.accuracyByCategory[t].correct+=1,i.statistics.accuracyByCategory[t].total+=1)}else c=Math.max(1,i.currentEnemy.atk-i.playerStats.def),!1===i.adventureSkills.skillEffects.dodgeUsed&&"dodge"===(null==(r=i.adventureSkills.selectedSkill)?void 0:r.type)?(i.adventureSkills.skillEffects.dodgeUsed=!0,i.combatLog=[...i.combatLog,"You dodge the attack!"]):(i.adventureSkills.skillEffects.lightningChainActive&&(c=Math.floor(1.1*c)),i.adventureSkills.skillEffects.arcaneShieldActive&&Math.random()<.25&&(c=Math.floor(.5*c),i.combatLog=[...i.combatLog,"Arcane Shield reduces damage!"]),i.adventureSkills.skillEffects.shieldWallActive||Math.random()<.1&&(c=Math.floor(1.5*c),i.combatLog=[...i.combatLog,"Enemy critical hit!"]),i.playerStats.hp=Math.max(0,i.playerStats.hp-c),i.combatLog=[...i.combatLog,`Enemy deals ${c} damage!`],i.statistics.totalDamageTaken+=c),i.knowledgeStreak.current=0,i.knowledgeStreak.multiplier=1,t&&(i.statistics.accuracyByCategory[t]||(i.statistics.accuracyByCategory[t]={correct:0,total:0}),i.statistics.accuracyByCategory[t].total+=1);if(i.statistics.totalQuestionsAnswered+=1,i.currentEnemy.isPoisoned&&i.currentEnemy.poisonTurns>0){const e=Math.floor(.1*i.currentEnemy.maxHp);i.currentEnemy.hp=Math.max(0,i.currentEnemy.hp-e),i.currentEnemy.poisonTurns-=1,i.combatLog=[...i.combatLog,`Poison deals ${e} damage!`],i.currentEnemy.poisonTurns<=0&&(i.currentEnemy.isPoisoned=!1)}if(i.currentEnemy.hp<=0){const e=Math.floor((10+2*i.zone)*i.knowledgeStreak.multiplier),t=Math.floor((1+Math.floor(i.zone/5))*i.knowledgeStreak.multiplier);i.coins+=e,i.gems+=t,i.zone+=1,i.inCombat=!1,i.currentEnemy=null,i.combatLog=[...i.combatLog,`Victory! +${e} coins, +${t} gems`];const s=20;for(i.progression.experience+=s,i.combatLog=[...i.combatLog,`+${s} XP gained!`];i.progression.experience>=i.progression.experienceToNext;)i.progression.experience-=i.progression.experienceToNext,i.progression.level+=1,i.progression.skillPoints+=1,i.progression.experienceToNext=Math.floor(100*Math.pow(1.2,i.progression.level-1)),i.combatLog=[...i.combatLog,`Level up! You are now level ${i.progression.level}!`];i.adventureSkills={selectedSkill:null,availableSkills:[],showSelectionModal:!1,skillEffects:{skipCardUsed:!1,metalShieldUsed:!1,dodgeUsed:!1,truthLiesActive:!1,lightningChainActive:!1,rampActive:!1,berserkerActive:!1,vampiricActive:!1,phoenixUsed:!1,timeSlowActive:!1,criticalStrikeActive:!1,shieldWallActive:!1,poisonBladeActive:!1,arcaneShieldActive:!1,battleFrenzyActive:!1}},i.playerStats=v(i),i.zone>=50&&(i.isPremium=!0),i.statistics.totalVictories+=1,i.statistics.coinsEarned+=e,i.statistics.gemsEarned+=t,i.statistics.zonesReached=Math.max(i.statistics.zonesReached,i.zone)}return i.playerStats.hp<=0&&("phoenix"!==(null==(a=i.adventureSkills.selectedSkill)?void 0:a.type)||i.adventureSkills.skillEffects.phoenixUsed?"metal_shield"!==(null==(n=i.adventureSkills.selectedSkill)?void 0:n.type)||i.adventureSkills.skillEffects.metalShieldUsed?i.hasUsedRevival?(i.inCombat=!1,i.currentEnemy=null,i.combatLog=[...i.combatLog,"You have been defeated!"],i.statistics.totalDeaths+=1,i.adventureSkills={selectedSkill:null,availableSkills:[],showSelectionModal:!1,skillEffects:{skipCardUsed:!1,metalShieldUsed:!1,dodgeUsed:!1,truthLiesActive:!1,lightningChainActive:!1,rampActive:!1,berserkerActive:!1,vampiricActive:!1,phoenixUsed:!1,timeSlowActive:!1,criticalStrikeActive:!1,shieldWallActive:!1,poisonBladeActive:!1,arcaneShieldActive:!1,battleFrenzyActive:!1}}):(i.playerStats.hp=i.playerStats.maxHp,i.hasUsedRevival=!0,i.combatLog=[...i.combatLog,"You have been revived!"],i.statistics.revivals+=1):(i.playerStats.hp=1,i.playerStats.atk=Math.floor(.7*i.playerStats.atk),i.adventureSkills.skillEffects.metalShieldUsed=!0,i.combatLog=[...i.combatLog,"Metal Shield activated! Sacrificed ATK to survive!"]):(i.playerStats.hp=Math.floor(.5*i.playerStats.maxHp),i.adventureSkills.skillEffects.phoenixUsed=!0,i.combatLog=[...i.combatLog,"Phoenix revives you with 50% HP!"])),i})},[y,v]),z=j.useCallback(()=>{t(V())},[]),T=j.useCallback(e=>{y(t=>c(l({},t),{gameMode:c(l({},t.gameMode),{current:e})}))},[y]),D=j.useCallback(e=>{y(t=>c(l({},t),{cheats:c(l({},t.cheats),{[e]:!t.cheats[e]})}))},[y]),W=j.useCallback(()=>{},[]),I=j.useCallback((e,t)=>{let s=null;return y(e=>Math.random()<.05?(s={gems:0,shinyGems:1},c(l({},e),{shinyGems:e.shinyGems+1,mining:c(l({},e.mining),{totalShinyGemsMined:e.mining.totalShinyGemsMined+1}),statistics:c(l({},e.statistics),{shinyGemsEarned:e.statistics.shinyGemsEarned+1})})):(s={gems:1,shinyGems:0},c(l({},e),{gems:e.gems+1,mining:c(l({},e.mining),{totalGemsMined:e.mining.totalGemsMined+1}),statistics:c(l({},e.statistics),{gemsEarned:e.statistics.gemsEarned+1})}))),s},[y]),B=j.useCallback(e=>{let t=!1;return y(s=>s.shinyGems<e?s:(t=!0,c(l({},s),{shinyGems:s.shinyGems-e,gems:s.gems+10*e}))),t},[y]),U=j.useCallback((e,t)=>{y(s=>c(l({},s),"weapon"===t?{inventory:c(l({},s.inventory),{weapons:s.inventory.weapons.filter(t=>t.id!==e)})}:{inventory:c(l({},s.inventory),{armor:s.inventory.armor.filter(t=>t.id!==e)})}))},[y]),H=j.useCallback(e=>{let t=!1;return y(s=>{const r=s.yojefMarket.items.find(t=>t.id===e);return!r||s.gems<r.cost||s.inventory.equippedRelics.length>=5?s:(t=!0,c(l({},s),{gems:s.gems-r.cost,inventory:c(l({},s.inventory),{relics:[...s.inventory.relics,r],equippedRelics:[...s.inventory.equippedRelics,r]}),yojefMarket:c(l({},s.yojefMarket),{items:s.yojefMarket.items.filter(t=>t.id!==e)})}))}),t},[y]),q=j.useCallback(e=>{y(t=>{const s=t.inventory.relics.find(t=>t.id===e);if(!s||t.gems<s.upgradeCost)return t;const r=t.inventory.relics.map(t=>t.id===e?c(l({},t),{level:t.level+1,upgradeCost:Math.floor(1.5*t.upgradeCost),baseAtk:t.baseAtk?t.baseAtk+22:void 0,baseDef:t.baseDef?t.baseDef+15:void 0}):t),a=t.inventory.equippedRelics.map(t=>t.id===e&&r.find(t=>t.id===e)||t);return c(l({},t),{gems:t.gems-s.upgradeCost,inventory:c(l({},t.inventory),{relics:r,equippedRelics:a})})})},[y]),F=j.useCallback(e=>{y(t=>{const s=t.inventory.relics.find(t=>t.id===e);return!s||t.inventory.equippedRelics.length>=5||t.inventory.equippedRelics.some(t=>t.id===e)?t:c(l({},t),{inventory:c(l({},t.inventory),{equippedRelics:[...t.inventory.equippedRelics,s]})})})},[y]),Z=j.useCallback(e=>{y(t=>c(l({},t),{inventory:c(l({},t.inventory),{equippedRelics:t.inventory.equippedRelics.filter(t=>t.id!==e)})}))},[y]),$=j.useCallback(e=>{y(t=>c(l({},t),{inventory:c(l({},t.inventory),{relics:t.inventory.relics.filter(t=>t.id!==e),equippedRelics:t.inventory.equippedRelics.filter(t=>t.id!==e)})}))},[y]),K=j.useCallback(()=>{let e=!1;return y(t=>{if(!t.dailyRewards.availableReward)return t;e=!0;const s=t.dailyRewards.availableReward;return c(l({},t),{coins:t.coins+s.coins,gems:t.gems+s.gems,dailyRewards:c(l({},t.dailyRewards),{availableReward:null,lastClaimDate:new Date,rewardHistory:[...t.dailyRewards.rewardHistory,c(l({},s),{claimed:!0,claimDate:new Date})]})})}),e},[y]),Q=j.useCallback(e=>!1,[]),X=j.useCallback(()=>!1,[]),J=j.useCallback(()=>{y(e=>c(l({},e),{coins:e.coins+e.offlineProgress.offlineCoins,gems:e.gems+e.offlineProgress.offlineGems,offlineProgress:c(l({},e.offlineProgress),{offlineCoins:0,offlineGems:0,offlineTime:0})}))},[y]),ee=j.useCallback((e,t)=>{y(s=>{if("weapon"===t){const t=s.inventory.weapons.filter(t=>{var r;return e.includes(t.id)&&(null==(r=s.inventory.currentWeapon)?void 0:r.id)!==t.id}).reduce((e,t)=>e+t.sellPrice,0);return c(l({},s),{coins:s.coins+t,inventory:c(l({},s.inventory),{weapons:s.inventory.weapons.filter(t=>{var r;return!e.includes(t.id)||(null==(r=s.inventory.currentWeapon)?void 0:r.id)===t.id})})})}{const t=s.inventory.armor.filter(t=>{var r;return e.includes(t.id)&&(null==(r=s.inventory.currentArmor)?void 0:r.id)!==t.id}).reduce((e,t)=>e+t.sellPrice,0);return c(l({},s),{coins:s.coins+t,inventory:c(l({},s.inventory),{armor:s.inventory.armor.filter(t=>{var r;return!e.includes(t.id)||(null==(r=s.inventory.currentArmor)?void 0:r.id)===t.id})})})}})},[y]),te=j.useCallback((e,t)=>{y(s=>{if("weapon"===t){const t=s.inventory.weapons.filter(t=>e.includes(t.id)).reduce((e,t)=>e+t.upgradeCost,0);if(s.gems<t)return s;const r=s.inventory.weapons.map(t=>e.includes(t.id)?c(l({},t),{level:t.level+1,upgradeCost:Math.floor(1.5*t.upgradeCost)}):t);return c(l({},s),{gems:s.gems-t,inventory:c(l({},s.inventory),{weapons:r})})}{const t=s.inventory.armor.filter(t=>e.includes(t.id)).reduce((e,t)=>e+t.upgradeCost,0);if(s.gems<t)return s;const r=s.inventory.armor.map(t=>e.includes(t.id)?c(l({},t),{level:t.level+1,upgradeCost:Math.floor(1.5*t.upgradeCost)}):t);return c(l({},s),{gems:s.gems-t,inventory:c(l({},s.inventory),{armor:r})})}})},[y]),se=j.useCallback(()=>{let e=!1;return y(t=>{if(t.coins<t.gardenOfGrowth.seedCost||t.gardenOfGrowth.isPlanted)return t;e=!0;const s=new Date;return c(l({},t),{coins:t.coins-t.gardenOfGrowth.seedCost,gardenOfGrowth:c(l({},t.gardenOfGrowth),{isPlanted:!0,plantedAt:s,lastWatered:s,waterHoursRemaining:24})})}),e},[y]),re=j.useCallback(e=>{let t=!1;return y(s=>{const r=e/24*s.gardenOfGrowth.waterCost;return s.coins<r?s:(t=!0,c(l({},s),{coins:s.coins-r,gardenOfGrowth:c(l({},s.gardenOfGrowth),{waterHoursRemaining:s.gardenOfGrowth.waterHoursRemaining+e,lastWatered:new Date})}))}),t},[y]),ae=j.useCallback(e=>{y(t=>c(l({},t),{settings:l(l({},t.settings),e)}))},[y]),ne=j.useCallback(e=>{y(t=>c(l({},t),{coins:t.coins+e}))},[y]),ie=j.useCallback(e=>{y(t=>c(l({},t),{gems:t.gems+e}))},[y]),oe=j.useCallback(e=>{y(t=>c(l({},t),{zone:Math.max(1,e)}))},[y]),le=j.useCallback(e=>{y(t=>c(l({},t),{progression:c(l({},t.progression),{experience:Math.max(0,e)})}))},[y]),ce=j.useCallback(()=>{let e=!1;return y(t=>{if(t.coins<100)return t;const s=["coin_vacuum","treasurer","xp_surge","luck_gem","enchanter","time_warp","golden_touch","knowledge_boost","durability_master","relic_finder"],r=s[Math.floor(Math.random()*s.length)],a={coin_vacuum:24,treasurer:.1,xp_surge:24,luck_gem:1,enchanter:12,time_warp:12,golden_touch:8,knowledge_boost:24,durability_master:6,relic_finder:72}[r],n=new Date,i=new Date(n.getTime()+60*a*60*1e3),o={id:Math.random().toString(36).substr(2,9),name:{coin_vacuum:"Coin Vacuum",treasurer:"Treasurer",xp_surge:"XP Surge",luck_gem:"Luck Gem",enchanter:"Enchanter",time_warp:"Time Warp",golden_touch:"Golden Touch",knowledge_boost:"Knowledge Boost",durability_master:"Durability Master",relic_finder:"Relic Finder"}[r],description:{coin_vacuum:"Get 15 free coins per minute of play time",treasurer:"Guarantees next chest opened is epic or better",xp_surge:"Gives 300% XP gains for 24 hours",luck_gem:"All gems mined for 1 hour are shiny gems",enchanter:"Epic+ drops have 80% chance to be enchanted",time_warp:"Get 50% more time to answer questions for 12 hours",golden_touch:"All coin rewards are doubled for 8 hours",knowledge_boost:"Knowledge streaks build 50% faster for 24 hours",durability_master:"Items lose no durability for 6 hours",relic_finder:"Next 3 Yojef Market refreshes have guaranteed legendary relics"}[r],duration:a,activatedAt:n,expiresAt:i,type:r};return e=!0,c(l({},t),{coins:t.coins-100,skills:c(l({},t.skills),{activeMenuSkill:o,lastRollTime:n})})}),e},[y]);return j.useEffect(()=>{e&&!e.inCombat&&y(e=>c(l({},e),{playerStats:v(e)}))},[null==e?void 0:e.research.level,null==e?void 0:e.gardenOfGrowth.totalGrowthBonus,null==e?void 0:e.inventory.currentWeapon,null==e?void 0:e.inventory.currentArmor,null==e?void 0:e.inventory.equippedRelics]),{gameState:e,isLoading:s,equipWeapon:w,equipArmor:k,upgradeWeapon:_,upgradeArmor:N,sellWeapon:S,sellArmor:M,upgradeResearch:C,openChest:A,purchaseMythical:E,startCombat:P,attack:O,resetGame:z,setGameMode:T,toggleCheat:D,generateCheatItem:W,mineGem:I,exchangeShinyGems:B,discardItem:U,purchaseRelic:H,upgradeRelic:q,equipRelic:F,unequipRelic:Z,sellRelic:$,claimDailyReward:K,upgradeSkill:Q,prestige:X,claimOfflineRewards:J,bulkSell:ee,bulkUpgrade:te,plantSeed:se,buyWater:re,updateSettings:ae,addCoins:ne,addGems:ie,teleportToZone:oe,setExperience:le,rollSkill:ce,selectAdventureSkill:G,skipAdventureSkills:R,useSkipCard:L}},Y=()=>[{id:"risker",name:"Risker",description:"Lose 15% health but get 20% extra ATK",type:"risker"},{id:"lightning_chain",name:"Lightning Chain",description:"Every correct answer, deal 15% extra ATK but every wrong answer, be dealt 10% more ATK",type:"lightning_chain"},{id:"skip_card",name:"Skip Card",description:"Skip any question. Effective only once.",type:"skip_card"},{id:"metal_shield",name:"Metal Shield",description:"If you are about to die, auto sacrifice 30% ATK to just cancel damage taken",type:"metal_shield"},{id:"truth_lies",name:"1 Truth, 2 Lies",description:"Remove one of the wrong answers in a multi choice question for the ENTIRE adventure",type:"truth_lies"},{id:"ramp",name:"Ramp",description:"A random stat is doubled but another is reduced by 40%",type:"ramp"},{id:"dodge",name:"Dodge",description:"Don't take damage from the first wrong answer",type:"dodge"},{id:"berserker",name:"Berserker",description:"Gain 50% ATK but lose 30% DEF",type:"berserker"},{id:"vampiric",name:"Vampiric",description:"Heal for 20% of damage dealt",type:"vampiric"},{id:"phoenix",name:"Phoenix",description:"Auto-revive once with 50% HP when defeated",type:"phoenix"},{id:"time_slow",name:"Time Slow",description:"Get +3 seconds to answer each question",type:"time_slow"},{id:"critical_strike",name:"Critical Strike",description:"30% chance to deal double damage",type:"critical_strike"},{id:"shield_wall",name:"Shield Wall",description:"Gain 80% DEF but enemies cannot deal critical hits",type:"shield_wall"},{id:"poison_blade",name:"Poison Blade",description:"40% chance to poison enemies (10% max HP damage for 3 turns)",type:"poison_blade"},{id:"arcane_shield",name:"Arcane Shield",description:"25% chance to halve incoming damage",type:"arcane_shield"},{id:"battle_frenzy",name:"Battle Frenzy",description:"Gain 10% damage for each consecutive correct answer",type:"battle_frenzy"}].sort(()=>Math.random()-.5).slice(0,3),$=({playerStats:e,zone:t,coins:s,gems:r,shinyGems:a,playerTags:n,progression:i})=>{const o=n.filter(e=>e.unlocked);return f.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 via-slate-900/80 to-black/80 p-6 rounded-xl shadow-2xl border border-slate-600/50 backdrop-blur-sm",children:[f.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6 text-center",children:"Hero Status"}),o.length>0&&f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-white font-semibold text-sm mb-3",children:"Player Tags"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(e=>f.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-semibold ${e.color} bg-black/30 border border-current/30 backdrop-blur-sm`,children:[e.icon," ",e.name]},e.id))})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-indigo-500/30",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx(_,{className:"w-5 h-5 text-indigo-400"}),f.jsx("span",{className:"text-white font-semibold",children:"Character Level"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{className:"text-indigo-400 font-bold text-2xl",children:["Lv.",i.level]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:f.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all duration-500",style:{width:i.experience/i.experienceToNext*100+"%"}})}),f.jsxs("p",{className:"text-xs text-gray-300 mt-2",children:[i.experience,"/",i.experienceToNext," XP"]})]}),f.jsxs("span",{className:"text-yellow-400 font-semibold bg-black/30 px-3 py-1 rounded-lg",children:["SP: ",i.skillPoints]})]})]}),f.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-red-500/30",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx(N,{className:"w-5 h-5 text-red-400"}),f.jsx("span",{className:"text-white font-semibold",children:"Health"})]}),f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:f.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-400 h-4 rounded-full transition-all duration-300",style:{width:e.hp/e.maxHp*100+"%"}})}),f.jsxs("p",{className:"text-sm text-gray-300 mt-2 text-center font-semibold",children:[e.hp,"/",e.maxHp]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-orange-500/30",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(S,{className:"w-4 h-4 text-orange-400"}),f.jsx("span",{className:"text-white font-semibold text-sm",children:"Attack"})]}),f.jsx("p",{className:"text-2xl font-bold text-orange-400",children:e.atk})]}),f.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-blue-500/30",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(M,{className:"w-4 h-4 text-blue-400"}),f.jsx("span",{className:"text-white font-semibold text-sm",children:"Defense"})]}),f.jsx("p",{className:"text-2xl font-bold text-blue-400",children:e.def})]})]}),f.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-green-500/30",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx(C,{className:"w-5 h-5 text-green-400"}),f.jsx("span",{className:"text-white font-semibold",children:"Current Zone"})]}),f.jsx("p",{className:"text-3xl font-bold text-green-400 text-center",children:t}),t>=10&&f.jsx("p",{className:"text-xs text-green-300 mt-2 text-center bg-green-900/30 py-1 px-2 rounded-lg",children:"Enemies can drop items!"})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsxs("div",{className:"bg-black/30 p-3 rounded-xl border border-yellow-500/30",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(A,{className:"w-4 h-4 text-yellow-400"}),f.jsx("span",{className:"text-white font-semibold text-xs",children:"Coins"})]}),f.jsx("p",{className:"text-lg font-bold text-yellow-400 text-center",children:s.toLocaleString()})]}),f.jsxs("div",{className:"bg-black/30 p-3 rounded-xl border border-purple-500/30",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(E,{className:"w-4 h-4 text-purple-400"}),f.jsx("span",{className:"text-white font-semibold text-xs",children:"Gems"})]}),f.jsx("p",{className:"text-lg font-bold text-purple-400 text-center",children:r.toLocaleString()})]}),f.jsxs("div",{className:"bg-black/30 p-3 rounded-xl border border-yellow-500/30",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(P,{className:"w-4 h-4 text-yellow-400"}),f.jsx("span",{className:"text-white font-semibold text-xs",children:"Shiny"})]}),f.jsx("p",{className:"text-lg font-bold text-yellow-400 text-center",children:a.toLocaleString()})]})]})]})]})},K=({research:e,coins:t,onUpgradeResearch:s,isPremium:r})=>{const[a,n]=j.useState(!1),i=u(e.level),o=y(e.level),l=y(e.level+1),c=[{key:"atk",name:"Attack Research",icon:S,color:"text-orange-400",bgColor:"bg-orange-900/30",borderColor:"border-orange-500/50",description:"Increase your attack power by 10%"},{key:"def",name:"Defense Research",icon:M,color:"text-blue-400",bgColor:"bg-blue-900/30",borderColor:"border-blue-500/50",description:"Increase your defense power by 10%"},{key:"hp",name:"Health Research",icon:N,color:"text-red-400",bgColor:"bg-red-900/30",borderColor:"border-red-500/50",description:"Increase your maximum health by 10%"}];return f.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 via-purple-900 to-blue-900 p-4 sm:p-6 rounded-lg shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[f.jsx(G,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-400"}),f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Research Laboratory"})]}),f.jsx("p",{className:"text-blue-300 text-sm sm:text-base",children:"Advance your knowledge and power"})]}),f.jsx("div",{className:"max-w-md mx-auto",children:f.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border-2 border-purple-500/50 bg-purple-900/30",children:[f.jsxs("div",{className:"text-center mb-4",children:[f.jsx(G,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 text-purple-400"}),f.jsx("h3",{className:"font-bold text-lg sm:text-xl text-purple-400",children:"Universal Research"}),f.jsx("p",{className:"text-gray-300 text-sm mt-2",children:"Choose your path of advancement"})]}),f.jsxs("div",{className:"space-y-3 mb-4",children:[f.jsxs("div",{className:"bg-black/30 p-3 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(_,{className:"w-4 h-4 text-green-400"}),f.jsx("span",{className:"text-white font-semibold text-sm",children:"Research Level"})]}),f.jsx("p",{className:"text-2xl font-bold text-green-400",children:e.level})]}),f.jsxs("div",{className:"bg-black/30 p-3 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(_,{className:"w-4 h-4 text-yellow-400"}),f.jsx("span",{className:"text-white font-semibold text-sm",children:"Current Bonus"})]}),f.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["+",o,"%"]})]})]}),f.jsxs("div",{className:"bg-black/40 p-4 rounded-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white font-semibold text-sm",children:"Next Level"}),f.jsxs("p",{className:"text-gray-300 text-xs",children:["Bonus: +",o,"% â†’ +",l,"%"]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[f.jsx(A,{className:"w-4 h-4"}),f.jsx("span",{className:"font-semibold text-sm",children:i})]})]}),f.jsx("button",{onClick:()=>n(!0),disabled:t<i,className:"w-full py-3 rounded-lg font-bold transition-all duration-200 text-sm "+(t>=i?"bg-gradient-to-r from-purple-600 to-purple-500 text-white hover:scale-105 shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:t>=i?"Choose Upgrade Path":"Insufficient Coins"}),f.jsx("div",{className:"mt-3 text-center",children:f.jsxs("p",{className:"text-xs text-gray-300",children:["Total spent: ",e.totalSpent," coins"]})})]})]})}),a&&f.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-indigo-900 p-6 rounded-lg border border-purple-500/50 max-w-2xl w-full",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-white font-bold text-xl",children:"Choose Your Research Path"}),f.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-white transition-colors",children:f.jsx(R,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:c.map(e=>{const t=e.icon;return f.jsx("button",{onClick:()=>{return t=e.key,s(t),void n(!1);var t},className:`p-4 rounded-lg border-2 ${e.borderColor} ${e.bgColor} hover:scale-105 transition-all duration-200`,children:f.jsxs("div",{className:"text-center",children:[f.jsx(t,{className:`w-12 h-12 mx-auto mb-3 ${e.color}`}),f.jsx("h4",{className:`font-bold text-lg ${e.color} mb-2`,children:e.name}),f.jsx("p",{className:"text-gray-300 text-sm",children:e.description})]})},e.key)})}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("p",{className:"text-gray-300 text-sm",children:"Each upgrade provides a permanent 10% bonus to the selected stat"})})]})}),f.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:f.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:"Research provides permanent stat bonuses. Choose wisely!"})})]})},Q=({mining:e,gems:t,shinyGems:s,onMineGem:r,onExchangeShinyGems:a})=>{const[n,i]=j.useState(null),[o,l]=j.useState(!1),[c,d]=j.useState(0);j.useEffect(()=>{if(!n){const e=Math.random()<.05;i({isShiny:e})}},[n]);const m=e=>{a(e)||alert("Not enough shiny gems!")};return f.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-slate-900 to-gray-800 p-4 sm:p-6 rounded-lg shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[f.jsx(E,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-400"}),f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Gem Mining"})]}),f.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Click the gem node to mine it!"}),f.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-purple-300",children:[f.jsx(E,{className:"w-4 h-4 sm:w-5 sm:h-5"}),f.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:[t," Gems"]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[f.jsx(P,{className:"w-4 h-4 sm:w-5 sm:h-5"}),f.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:[s," Shiny"]})]})]})]}),f.jsxs("div",{className:"mb-4 sm:mb-6",children:[f.jsx("h3",{className:"text-white font-semibold mb-3 text-center text-sm sm:text-base",children:"Mining Node"}),f.jsx("div",{className:"flex justify-center",children:f.jsxs("div",{onClick:()=>{const e=Date.now();e-c<0||!n||(d(e),r(0,0)&&(i(null),setTimeout(()=>{const e=Math.random()<.05;i({isShiny:e})},500)))},className:"w-24 h-24 sm:w-32 sm:h-32 border-4 rounded-xl cursor-pointer transition-all duration-200 relative overflow-hidden "+(n?n.isShiny?"border-yellow-400 bg-gradient-to-br from-yellow-900 to-orange-900 hover:from-yellow-800 hover:to-orange-800 shadow-lg shadow-yellow-500/50 animate-pulse":"border-purple-400 bg-gradient-to-br from-purple-900 to-indigo-900 hover:from-purple-800 hover:to-indigo-800 shadow-lg shadow-purple-500/30":"border-gray-600 bg-gray-800 hover:bg-gray-700"),children:[n&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.isShiny?f.jsx(P,{className:"w-8 h-8 sm:w-12 sm:h-12 text-yellow-400 animate-bounce"}):f.jsx(E,{className:"w-8 h-8 sm:w-12 sm:h-12 text-purple-400"})}),!n&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-gray-400 border-t-transparent rounded-full"})})]})}),f.jsxs("div",{className:"text-center text-gray-400 text-xs sm:text-sm mt-3 space-y-1",children:[f.jsx("p",{children:"ðŸ’Ž Purple gems = 1 gem | âœ¨ Golden gems = 1 shiny gem (5% chance)"}),f.jsx("p",{children:"Click to mine instantly! New gems appear automatically."}),!n&&f.jsx("p",{className:"text-yellow-400",children:"Generating new gem node..."})]})]}),f.jsxs("div",{className:"bg-black/30 p-4 rounded-lg mb-4",children:[f.jsx("h3",{className:"text-white font-semibold mb-3 text-center",children:"Mining Statistics"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-purple-400 font-semibold",children:"Total Gems Mined"}),f.jsx("p",{className:"text-white text-xl font-bold",children:e.totalGemsMined})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-yellow-400 font-semibold",children:"Shiny Gems Found"}),f.jsx("p",{className:"text-white text-xl font-bold",children:e.totalShinyGemsMined})]})]})]}),f.jsx("div",{className:"text-center",children:f.jsxs("button",{onClick:()=>l(!0),className:"px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-bold rounded-lg hover:from-yellow-500 hover:to-orange-500 transition-all duration-200 flex items-center gap-2 mx-auto text-sm sm:text-base",children:[f.jsx(P,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Shiny Exchange"]})}),o&&f.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-gradient-to-br from-yellow-900 to-orange-900 p-4 sm:p-6 rounded-lg border border-yellow-500/50 max-w-md w-full",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(P,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-400"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-white font-bold text-lg sm:text-xl",children:"Shiny Exchange"}),f.jsx("p",{className:"text-yellow-300 text-sm",children:"Convert shiny gems to regular gems"})]})]}),f.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-white transition-colors",children:f.jsx(R,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"bg-black/30 p-4 rounded-lg",children:[f.jsxs("div",{className:"text-center mb-4",children:[f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[f.jsx(P,{className:"w-6 h-6 text-yellow-400"}),f.jsx("span",{className:"text-white font-bold text-lg",children:"Exchange Rate"})]}),f.jsx("p",{className:"text-yellow-300 text-xl font-bold",children:"1 Shiny Gem = 10 Regular Gems"})]}),f.jsx("div",{className:"text-center mb-4",children:f.jsxs("p",{className:"text-white",children:["You have: ",f.jsx("span",{className:"font-bold text-yellow-400",children:s})," shiny gems"]})}),f.jsxs("div",{className:"space-y-3",children:[[1,5,10].map(e=>f.jsxs("button",{onClick:()=>m(e),disabled:s<e,className:"w-full py-2 rounded-lg font-semibold transition-all text-sm "+(s>=e?"bg-yellow-600 text-white hover:bg-yellow-500":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:["Exchange ",e," Shiny â†’ ",10*e," Gems"]},e)),s>0&&f.jsxs("button",{onClick:()=>m(s),className:"w-full py-2 bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-bold rounded-lg hover:from-yellow-500 hover:to-orange-500 transition-all text-sm",children:["Exchange All (",s," â†’ ",10*s," Gems)"]})]})]})}),f.jsx("div",{className:"mt-4 text-center",children:f.jsx("p",{className:"text-yellow-300 text-xs",children:"âœ¨ Shiny gems are rare and valuable! Use them wisely."})})]})})]})},X=()=>{const e=[{Icon:A,color:"text-yellow-400",delay:"0s",position:{top:"10%",left:"5%"}},{Icon:E,color:"text-purple-400",delay:"1s",position:{top:"20%",right:"10%"}},{Icon:S,color:"text-orange-400",delay:"2s",position:{top:"60%",left:"8%"}},{Icon:M,color:"text-blue-400",delay:"3s",position:{bottom:"15%",right:"5%"}},{Icon:N,color:"text-red-400",delay:"4s",position:{top:"40%",left:"15%"}},{Icon:G,color:"text-indigo-400",delay:"5s",position:{top:"70%",right:"15%"}},{Icon:L,color:"text-green-400",delay:"6s",position:{bottom:"40%",left:"3%"}},{Icon:O,color:"text-amber-400",delay:"7s",position:{top:"80%",right:"8%"}}];return f.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[e.map(({Icon:e,color:t,delay:s,position:r},a)=>f.jsx("div",{className:`absolute ${t} opacity-10`,style:c(l({},r),{animation:"float 6s ease-in-out infinite",animationDelay:s}),children:f.jsx(e,{className:"w-8 h-8 sm:w-12 sm:h-12"})},a)),f.jsx("div",{className:"absolute text-slate-400 opacity-5",style:{top:"30%",right:"20%",animation:"float 8s ease-in-out infinite",animationDelay:"2s"},children:f.jsx("span",{className:"text-6xl",children:"â™ž"})}),f.jsx("style",{jsx:!0,children:"\n        @keyframes float {\n          0%, 100% {\n            transform: translateY(0px) rotate(0deg);\n          }\n          25% {\n            transform: translateY(-20px) rotate(5deg);\n          }\n          50% {\n            transform: translateY(-10px) rotate(-5deg);\n          }\n          75% {\n            transform: translateY(-15px) rotate(3deg);\n          }\n        }\n      "})]})},J=()=>{const[e,t]=j.useState(null),[s,r]=j.useState(!1),[a,n]=j.useState(!1);j.useEffect(()=>{const e=window.matchMedia("(display-mode: standalone)").matches,s=!0===window.navigator.standalone;n(e||s);const a=e=>{e.preventDefault(),t(e),r(!0)},i=()=>{n(!0),r(!1),t(null)};return window.addEventListener("beforeinstallprompt",a),window.addEventListener("appinstalled",i),()=>{window.removeEventListener("beforeinstallprompt",a),window.removeEventListener("appinstalled",i)}},[]);const i=()=>{r(!1)};return!a&&s&&e?f.jsxs("div",{className:"fixed bottom-4 left-4 right-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 rounded-lg shadow-lg z-50 max-w-sm mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(z,{className:"w-6 h-6 text-yellow-400"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-sm",children:"Install Hugoland"}),f.jsx("p",{className:"text-xs opacity-90",children:"Play offline & get the full experience!"})]})]}),f.jsx("button",{onClick:i,className:"text-white/70 hover:text-white transition-colors",children:f.jsx(R,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"flex gap-2 mt-3",children:[f.jsx("button",{onClick:()=>d(null,null,function*(){if(!e)return;e.prompt();const{outcome:s}=yield e.userChoice;t(null),r(!1)}),className:"flex-1 bg-white/20 hover:bg-white/30 text-white font-semibold py-2 px-4 rounded transition-colors text-sm",children:"Install App"}),f.jsx("button",{onClick:i,className:"px-4 py-2 text-white/70 hover:text-white transition-colors text-sm",children:"Later"})]})]}):null};j.lazy(()=>F(()=>import("./utility-components-BIeaoS2F.js").then(e=>e.a),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.Statistics}))),j.lazy(()=>F(()=>import("./utility-components-BIeaoS2F.js").then(e=>e.b),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.Achievements})));const ee=j.lazy(()=>F(()=>import("./utility-components-BIeaoS2F.js").then(e=>e.C),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.CollectionBook}))),te=j.lazy(()=>F(()=>import("./EnhancedGameModes-rySAngDZ.js"),__vite__mapDeps([4,1,2,3])).then(e=>({default:e.EnhancedGameModes}))),se=j.lazy(()=>F(()=>import("./PokyegMarket-C5oSUkMF.js"),__vite__mapDeps([5,1,2,3])).then(e=>({default:e.PokyegMarket}))),re=j.lazy(()=>F(()=>import("./Tutorial-B8mxjKwo.js"),__vite__mapDeps([6,1,2,3])).then(e=>({default:e.Tutorial}))),ae=j.lazy(()=>F(()=>import("./CheatPanel-BBCghGba.js"),__vite__mapDeps([7,1,2,3])).then(e=>({default:e.CheatPanel}))),ne=j.lazy(()=>F(()=>import("./DailyRewards-BCH5Kfxc.js"),__vite__mapDeps([8,1,2,3])).then(e=>({default:e.DailyRewards}))),ie=j.lazy(()=>F(()=>import("./OfflineProgress-B9uYKQNO.js"),__vite__mapDeps([9,1,2,3])).then(e=>({default:e.OfflineProgress}))),oe=j.lazy(()=>F(()=>import("./BulkActions-Bhd5q_Dn.js"),__vite__mapDeps([10,1,2,3])).then(e=>({default:e.BulkActions}))),le=j.lazy(()=>F(()=>import("./menu-components-BxZW46Ag.js").then(e=>e.H),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.HamburgerMenuPage})));j.lazy(()=>F(()=>import("./menu-components-BxZW46Ag.js").then(e=>e.G),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.GardenOfGrowth}))),j.lazy(()=>F(()=>import("./menu-components-BxZW46Ag.js").then(e=>e.a),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.GameSettings}))),j.lazy(()=>F(()=>import("./menu-components-BxZW46Ag.js").then(e=>e.D),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.DevTools}))),j.lazy(()=>F(()=>import("./menu-components-BxZW46Ag.js").then(e=>e.S),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.Skills}))),j.lazy(()=>F(()=>import("./menu-components-BxZW46Ag.js").then(e=>e.Y),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.YojefMarket}))),j.lazy(()=>F(()=>import("./menu-components-BxZW46Ag.js").then(e=>e.P),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.ProgressionPanel})));const ce=j.lazy(()=>F(()=>import("./AdventureSkillSelection-DaWVyMWl.js"),__vite__mapDeps([12,1,2,3])).then(e=>({default:e.AdventureSkillSelection}))),de=()=>f.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin inline-block w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full mb-4"}),f.jsx("p",{className:"text-white text-lg font-semibold",children:"Loading..."})]})});function me(){var e;const{gameState:t,isLoading:s,equipWeapon:r,equipArmor:a,upgradeWeapon:n,upgradeArmor:i,sellWeapon:o,sellArmor:l,upgradeResearch:c,openChest:d,purchaseMythical:m,startCombat:h,attack:u,resetGame:g,setGameMode:p,toggleCheat:x,generateCheatItem:b,mineGem:y,exchangeShinyGems:_,discardItem:N,purchaseRelic:S,upgradeRelic:C,equipRelic:A,unequipRelic:E,sellRelic:P,claimDailyReward:R,upgradeSkill:z,prestige:q,claimOfflineRewards:F,bulkSell:V,bulkUpgrade:Y,plantSeed:me,buyWater:he,updateSettings:ue,addCoins:ge,addGems:pe,teleportToZone:xe,setExperience:be,rollSkill:fe,selectAdventureSkill:ye,skipAdventureSkills:ve,useSkipCard:we}=Z(),[ke,je]=j.useState("stats"),[_e,Ne]=j.useState(null),[Se,Me]=j.useState(!0);if(s)return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin inline-block w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full mb-6"}),f.jsx("p",{className:"text-white text-xl font-semibold",children:"Loading Hugoland..."}),f.jsx("p",{className:"text-purple-300 text-sm mt-2",children:"Preparing your adventure..."})]})});if((null==(e=null==t?void 0:t.adventureSkills)?void 0:e.showSelectionModal)&&!t.inCombat)return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[f.jsx(X,{}),f.jsx(j.Suspense,{fallback:f.jsx(de,{}),children:f.jsx(ce,{availableSkills:t.adventureSkills.availableSkills,onSelectSkill:ye,onSkipSkills:ve})})]});if(t.inCombat||(t.offlineProgress.offlineCoins>0||t.offlineProgress.offlineGems>0?"offlineProgress"!==_e&&Ne("offlineProgress"):t.dailyRewards.availableReward&&"dailyRewards"!==_e&&Ne("dailyRewards")),Se&&1===t.zone&&100===t.coins)return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[f.jsx(X,{}),f.jsxs("div",{className:"text-center max-w-lg mx-auto relative z-10",children:[f.jsxs("div",{className:"mb-8",children:[f.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-6 leading-tight",children:["ðŸ° Welcome to",f.jsx("br",{}),"Hugoland! ðŸ—¡ï¸"]}),f.jsx("p",{className:"text-purple-300 text-lg sm:text-xl mb-8 leading-relaxed",children:"The ultimate fantasy adventure game where knowledge is your greatest weapon!"}),f.jsxs("div",{className:"bg-black/40 backdrop-blur-sm p-6 rounded-xl border border-purple-500/30 mb-8",children:[f.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:"ðŸŽ® What awaits you:"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-purple-200",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-green-400",children:"â€¢"}),f.jsx("span",{children:"Answer trivia questions to defeat enemies"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-blue-400",children:"â€¢"}),f.jsx("span",{children:"Collect powerful weapons and armor"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-purple-400",children:"â€¢"}),f.jsx("span",{children:"Mine gems and find rare treasures"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-yellow-400",children:"â€¢"}),f.jsx("span",{children:"Unlock achievements and streaks"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-red-400",children:"â€¢"}),f.jsx("span",{children:"Explore multiple game modes"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-cyan-400",children:"â€¢"}),f.jsx("span",{children:"Progress through infinite zones"})]})]})]})]}),f.jsxs("button",{onClick:()=>Me(!1),className:"w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-xl hover:from-purple-500 hover:to-indigo-500 transition-all duration-300 transform hover:scale-105 flex items-center gap-3 justify-center text-lg shadow-lg shadow-purple-500/25",children:[f.jsx(T,{className:"w-6 h-6"}),"Start Your Adventure"]}),f.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Begin your journey in the magical world of Hugoland"})]})]});const Ce=()=>{Ne("resetConfirm")},Ae=()=>{g(),Ne(null)};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative",children:[f.jsx(X,{}),f.jsx(J,{}),f.jsx("div",{className:"bg-gradient-to-r from-purple-800 via-violet-800 to-purple-800 shadow-2xl relative z-10 border-b border-purple-500/30",children:f.jsxs("div",{className:"container mx-auto px-4 py-4 sm:py-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white",children:"ðŸ° Hugoland ðŸ—¡ï¸"}),t.isPremium&&f.jsx(D,{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 text-yellow-400 animate-pulse"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[!t.inCombat&&"menu"!==ke&&f.jsxs("button",{onClick:()=>Ne("bulkActions"),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-all duration-200 text-sm shadow-md",children:[f.jsx(L,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Bulk"})]}),f.jsxs("button",{onClick:()=>je("menu"),className:"flex items-center gap-2 px-3 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-all duration-200 text-sm shadow-md",children:[f.jsx(W,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Menu"})]})]})]}),!t.inCombat&&"menu"!==ke&&f.jsx("div",{className:"flex justify-center items-center gap-4 mb-4 text-sm",children:t.dailyRewards.availableReward&&f.jsxs("button",{onClick:()=>Ne("dailyRewards"),className:"flex items-center gap-2 text-green-300 hover:text-green-200 transition-colors animate-pulse px-3 py-1 rounded-lg hover:bg-white/10",children:[f.jsx(I,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Daily Reward!"})]})}),"menu"!==ke&&f.jsx("nav",{className:"flex justify-center",children:f.jsx("div",{className:"flex space-x-2 bg-black/20 p-2 rounded-xl backdrop-blur-sm border border-white/10",children:[{id:"stats",label:"Hero",icon:B},{id:"research",label:"Research",icon:G},{id:"shop",label:"Shop",icon:L},{id:"inventory",label:"Inventory",icon:M},{id:"mining",label:"Mining",icon:O}].map(({id:e,label:s,icon:r})=>f.jsxs("button",{onClick:()=>je(e),disabled:t.inCombat,className:"px-3 sm:px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center gap-2 text-sm whitespace-nowrap "+(ke===e?"bg-white text-purple-800 shadow-lg":t.inCombat?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-purple-700 text-white hover:bg-purple-600 hover:scale-105"),children:[f.jsx(r,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:s})]},e))})}),"menu"===ke&&f.jsx("div",{className:"flex justify-center",children:f.jsxs("button",{onClick:()=>je("stats"),className:"flex items-center gap-2 px-4 py-2 bg-purple-700 text-white rounded-lg hover:bg-purple-600 transition-all duration-200 shadow-md",children:[f.jsx(U,{className:"w-4 h-4"}),"Back to Game"]})})]})}),f.jsx("div",{className:"container mx-auto px-4 py-6 sm:py-8 relative z-10",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:(()=>{if(t.inCombat&&t.currentEnemy)return f.jsx(v,{enemy:t.currentEnemy,playerStats:t.playerStats,onAttack:u,combatLog:t.combatLog,gameMode:t.gameMode,knowledgeStreak:t.knowledgeStreak,hasUsedRevival:t.hasUsedRevival,adventureSkills:t.adventureSkills,onUseSkipCard:we});switch(ke){case"menu":return f.jsx(j.Suspense,{fallback:f.jsx(de,{}),children:f.jsx(le,{gameState:t,onPlantSeed:me,onBuyWater:he,onUpgradeSkill:z,onPrestige:q,onUpdateSettings:ue,onAddCoins:ge,onAddGems:pe,onTeleportToZone:xe,onSetExperience:be,onRollSkill:fe,onPurchaseRelic:S,onBack:()=>je("stats")})});case"stats":return f.jsxs("div",{className:"space-y-6",children:[f.jsx($,{playerStats:t.playerStats,zone:t.zone,coins:t.coins,gems:t.gems,shinyGems:t.shinyGems,playerTags:t.playerTags,progression:t.progression}),t.gardenOfGrowth.isPlanted&&f.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-emerald-900/50 p-4 sm:p-6 rounded-xl border border-green-500/50 backdrop-blur-sm",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:"ðŸŒ±"}),"Garden of Growth"]})}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"text-center bg-black/20 p-3 rounded-lg",children:[f.jsx("p",{className:"text-green-300 font-semibold text-sm",children:"Growth"}),f.jsxs("p",{className:"text-white text-xl font-bold",children:[t.gardenOfGrowth.growthCm.toFixed(1),"cm"]})]}),f.jsxs("div",{className:"text-center bg-black/20 p-3 rounded-lg",children:[f.jsx("p",{className:"text-blue-300 font-semibold text-sm",children:"Stat Bonus"}),f.jsxs("p",{className:"text-white text-xl font-bold",children:["+",t.gardenOfGrowth.totalGrowthBonus.toFixed(1),"%"]})]}),f.jsxs("div",{className:"text-center bg-black/20 p-3 rounded-lg",children:[f.jsx("p",{className:"text-cyan-300 font-semibold text-sm",children:"Water Left"}),f.jsxs("p",{className:"text-white text-xl font-bold",children:[t.gardenOfGrowth.waterHoursRemaining.toFixed(1),"h"]})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:f.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-3 rounded-full transition-all duration-500",style:{width:`${Math.min(t.gardenOfGrowth.growthCm/t.gardenOfGrowth.maxGrowthCm*100,100)}%`}})}),f.jsxs("p",{className:"text-center text-gray-300 text-sm mt-2",children:["Progress to maximum growth (",t.gardenOfGrowth.maxGrowthCm,"cm)"]})]})]}),t.knowledgeStreak.current>0&&f.jsx("div",{className:"bg-gradient-to-r from-yellow-900/50 to-orange-900/50 p-4 sm:p-6 rounded-xl border border-yellow-500/50 backdrop-blur-sm",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[f.jsx("span",{className:"text-3xl animate-pulse",children:"ðŸ”¥"}),f.jsx("h3",{className:"text-yellow-400 font-bold text-xl",children:"Knowledge Streak!"})]}),f.jsxs("p",{className:"text-white text-lg mb-2",children:[t.knowledgeStreak.current," correct answers in a row"]}),f.jsxs("p",{className:"text-yellow-300 font-semibold",children:["+",Math.round(100*(t.knowledgeStreak.multiplier-1)),"% reward bonus"]})]})}),f.jsxs("div",{className:"text-center space-y-6",children:[f.jsxs("button",{onClick:h,disabled:t.playerStats.hp<=0||"survival"===t.gameMode.current&&t.gameMode.survivalLives<=0,className:"w-full sm:w-auto px-8 py-4 rounded-xl font-bold text-white transition-all duration-300 transform flex items-center gap-3 justify-center text-lg shadow-lg "+(t.playerStats.hp>0&&("survival"!==t.gameMode.current||t.gameMode.survivalLives>0)?"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 hover:scale-105 shadow-green-500/25":"bg-gray-600 cursor-not-allowed opacity-50"),children:[f.jsx(T,{className:"w-6 h-6"}),t.playerStats.hp<=0?"You are defeated!":"survival"===t.gameMode.current&&t.gameMode.survivalLives<=0?"No lives remaining!":"Start Adventure"]}),(t.playerStats.hp<=0||"survival"===t.gameMode.current&&t.gameMode.survivalLives<=0)&&f.jsx("div",{className:"bg-red-900/30 p-4 rounded-lg border border-red-500/50",children:f.jsx("p",{className:"text-red-400 text-sm",children:"survival"===t.gameMode.current&&t.gameMode.survivalLives<=0?"Change game mode or reset to continue!":"Visit the shop to get better equipment and try again!"})}),t.isPremium&&f.jsxs("div",{className:"bg-gradient-to-r from-yellow-600/20 to-yellow-500/20 p-4 rounded-xl border border-yellow-500/50 backdrop-blur-sm",children:[f.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[f.jsx(D,{className:"w-6 h-6 text-yellow-400"}),f.jsx("span",{className:"text-white font-bold text-lg",children:"ðŸŽ‰ PREMIUM MEMBER! ðŸŽ‰"})]}),f.jsx("p",{className:"text-yellow-100 text-sm",children:"You've reached Zone 50! Enjoy exclusive rewards and special features!"})]}),f.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[f.jsxs("button",{onClick:()=>Ne("gameMode"),className:"px-4 py-2 rounded-lg font-semibold text-white bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 transition-all duration-200 flex items-center gap-2 text-sm shadow-md",children:[f.jsx(T,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Game Mode"})]}),f.jsxs("button",{onClick:()=>Ne("dailyRewards"),className:"px-4 py-2 rounded-lg font-semibold text-white bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 transition-all duration-200 flex items-center gap-2 text-sm shadow-md",children:[f.jsx(I,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Daily Rewards"})]}),f.jsxs("button",{onClick:Ce,className:"px-4 py-2 rounded-lg font-semibold text-white bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 transition-all duration-200 flex items-center gap-2 text-sm shadow-md",children:[f.jsx(H,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Reset Game"})]})]})]})]});case"shop":return f.jsx(k,{coins:t.coins,onOpenChest:d,onDiscardItem:N,isPremium:t.isPremium});case"inventory":return f.jsx(w,{inventory:t.inventory,gems:t.gems,onEquipWeapon:r,onEquipArmor:a,onUpgradeWeapon:n,onUpgradeArmor:i,onSellWeapon:o,onSellArmor:l,onUpgradeRelic:C,onEquipRelic:A,onUnequipRelic:E,onSellRelic:P});case"research":return f.jsx(K,{research:t.research,coins:t.coins,onUpgradeResearch:c,isPremium:t.isPremium});case"mining":return f.jsx(Q,{mining:t.mining,gems:t.gems,shinyGems:t.shinyGems,onMineGem:y,onExchangeShinyGems:_});default:return null}})()})}),(()=>{if(t.inCombat&&"resetConfirm"!==_e)return null;switch(_e){case"collection":return f.jsx(j.Suspense,{fallback:f.jsx(de,{}),children:f.jsx(ee,{collectionBook:t.collectionBook,allWeapons:t.inventory.weapons,allArmor:t.inventory.armor,onClose:()=>Ne(null)})});case"gameMode":return f.jsx(j.Suspense,{fallback:f.jsx(de,{}),children:f.jsx(te,{currentMode:t.gameMode,onSelectMode:p,onClose:()=>Ne(null)})});case"pokyegMarket":return f.jsx(j.Suspense,{fallback:f.jsx(de,{}),children:f.jsx(se,{coins:t.coins,onPurchaseMythical:m,onClose:()=>Ne(null)})});case"tutorial":return f.jsx(j.Suspense,{fallback:f.jsx(de,{}),children:f.jsx(re,{onClose:()=>Ne(null)})});case"cheats":return f.jsx(j.Suspense,{fallback:f.jsx(de,{}),children:f.jsx(ae,{cheats:t.cheats,onToggleCheat:x,onGenerateItem:b,onClose:()=>Ne(null)})});case"dailyRewards":return f.jsx(j.Suspense,{fallback:f.jsx(de,{}),children:f.jsx(ne,{dailyRewards:t.dailyRewards,onClaimReward:R,onClose:()=>Ne(null)})});case"offlineProgress":return f.jsx(j.Suspense,{fallback:f.jsx(de,{}),children:f.jsx(ie,{offlineProgress:t.offlineProgress,onClaimOfflineRewards:F,onClose:()=>Ne(null)})});case"bulkActions":return f.jsx(j.Suspense,{fallback:f.jsx(de,{}),children:f.jsx(oe,{weapons:t.inventory.weapons,armor:t.inventory.armor,gems:t.gems,onBulkSell:V,onBulkUpgrade:Y,onClose:()=>Ne(null)})});case"resetConfirm":return f.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:f.jsx("div",{className:"bg-gradient-to-br from-red-900 to-gray-900 p-6 rounded-xl border border-red-500/50 max-w-md w-full backdrop-blur-sm",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(H,{className:"w-8 h-8 text-white"})}),f.jsx("h2",{className:"text-white font-bold text-xl mb-4",children:"Reset Game?"}),f.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Are you sure you want to reset your game? This will permanently delete all your progress."}),f.jsxs("div",{className:"bg-black/30 p-3 rounded-lg mb-6 text-left",children:[f.jsx("p",{className:"text-red-400 font-bold text-sm mb-2",children:"This action cannot be undone!"}),f.jsxs("ul",{className:"text-red-300 text-xs space-y-1",children:[f.jsx("li",{children:"â€¢ All coins, gems, and items will be lost"}),f.jsx("li",{children:"â€¢ Zone progress and achievements will be reset"}),f.jsx("li",{children:"â€¢ Research levels and statistics will be cleared"}),f.jsx("li",{children:"â€¢ Character level and skills will be reset"})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>Ne(null),className:"flex-1 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-500 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:Ae,className:"flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-500 transition-colors font-bold",children:"Reset Game"})]})]})})});default:return null}})()]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(e=>{e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&confirm("New version available! Reload to update?")&&window.location.reload()})})}).catch(e=>{})}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault()}),window.addEventListener("appinstalled",()=>{}),r.createRoot(document.getElementById("root")).render(f.jsx(j.StrictMode,{children:f.jsx(me,{})}))}},function(){return Z||(0,V[r(V)[0]])((Z={exports:{}}).exports,Z),Z.exports});export default Y();
